---
typora-copy-images-to: ./
---

**BRANCH: feature-schedule-FE**

### 2022-02-07
**branch:** `feature-main_page`

## 😎 화면별 이슈 사항 정리

> 작성자: 박상현
>
> 최근 수정일시: 2022-02-10

1. 임의로 db에 상담사의 상담 시간 등록 
2. 내담자 -> 이번주 상담사 상담 스케줄 조회 구현
   - 아직 상담사 리스트에서 상담사 클릭 시 상담사의 페이지로 이동하는 것 구현 x
   - 임의로 마이페이지 내 일정관리에 보여주는 것 까지 완료
   - 날짜와 시간을 필터링하는 데 문제가 있어 일단 기존 목업 디자인과는 달리 날짜별 오픈된 시간을 보여주는 것으로 대체
   - 추후 상담사 클릭 시 상담사의 페이지 하단에서 내담자가 볼 수 있게 수정 예정


+ 앞으로 해야 할 것 
  1. 상담자의 일정 관리 페이지(기존에 만들어 놓은 UI 활용 예정)
     => 우선순위 : 승인, 조회 / 상담 시간 등록
  2. 내담자가 상담사 클릭 시 보이는 상담사 페이지의 일정에서 상담 신청
     => 접수가능 시 파란색/ 접수 대기 시(승인 전) 회색/ 접수 마감 시 빨강으로 표시 
     => 이는 state에서 schedulestatus 만들어서 0 / 1 / 2 로 달리하여 설정 예정...

<br>

### 2022-02-08

1. 임의로 한 상담사 프로필 만들어 상담사 클릭 시 프로필로 이동하여 상담사의 이력 및 일정 확인 가능하도록 구성(기존 store에서 LoadSchedule를 불러와서 썼던 거 와는 달리 테스트용으로 기존 페이지에서 axios로 호출하도록 구현해놓은 상태 -> 상담사 리스트 구성 후 수정 예정...)
2. 처음 목업 디자인으로 디자인 변경
3. 로그인 상태별 토글링 예정이라 기존 components>client>Navbar.vue를 components>Navbar.vue로 변경하여 상담사나 내담자나 동일한 navbar사용하도록 설정

​	4. 3.에 따라 components>counselor>counselorNavbar.vue 삭제하고 store에서 LoginForCounselor 파트에 router.push('/') 로 수정
### 001. 회원가입 및 로그인



<br>

#### 001.1. 비로그인 상태에서의 홈 화면

<br>

![image-20220210101039729](README.assets/image-20220210101039729.png)

> 홈 화면 디자인 수정 예정 🔥
>
> * 서비스 소개 영역 추가
> * 네브바와 사이드바 통합 고려 중



<br>

#### 001.2. 회원 가입

<br>

![image-20220209204534537](README.assets/image-20220209204534537.png)

![image-20220209204546382](README.assets/image-20220209204546382.png)

> 일반 유저와 상담사 유저를 분리하여 회원 가입 진행



<br>

#### 001.3. 로그인

<br>

![image-20220209204638067](README.assets/image-20220209204638067.png)

![image-20220209204646196](README.assets/image-20220209204646196.png)

> 일반 유저와 상담사 유저를 분리하여 로그인 진행



<br>

#### 001.4. 일반 유저 로그인 후 마이 페이지 화면

<br>

![image-20220209204927114](README.assets/image-20220209204927114.png)



<br>

#### 001.5. 상담사 유저 로그인 후 마이 페이지 화면

<br>

![image-20220209205034684](README.assets/image-20220209205034684.png)





<br>

### 002. 상담실

<br>



#### 002.1. 상담실 입장 화면(상: 상담사, 하: 내담자)

<br>

![image-20220209205430571](README.assets/image-20220209205430571.png)

![image-20220209205438636](README.assets/image-20220209205438636.png)

> 상담실 준비할 때(`입장 버튼` 클릭할 때) 해당 상담에 관한 정보를 넘겨줘야 함 🔥
>
> * 상담 예약과 관련된 페이지가 완성된 후 흐름을 살펴봐야 작성할 수 있을 듯



<br>

#### 002.2. 상담

<br>

![image-20220209210257001](README.assets/image-20220209210257001.png)

![image-20220209210323104](README.assets/image-20220209210323104.png)

> 1. 상담 중에는 네브바의 서비스 로고와 이름을 클릭해도 홈 화면으로 라우팅되지 않도록 제어 완료
> 1. 상담 중에 의도치 않은 로그아웃 사태를 막기 위해 `로그아웃` 버튼이 표현되지 않도록 분기 처리 완료
> 1. 상담사 사이드에서만 `감정 분석` 버튼이 표현되도록 분기 처리 완료




#### 002.3. 상담 중 메모


✔ 추가 작업
![image-20220209211007532](README.assets/image-20220209211007532.png)

> 1. 빈 메모는 입력되지 않도록 처리함
>    1. 내용을 입력해달라는 메시지 출력
> 1. 저장이 완료되면 관련 메시지 출력

- 내담자의 상담 신청 구현 완료
- 신청 시 `신청 대기` 상태로 바뀜
  - 문제가 있다면, 새로고침이 되는 순간 css가 다 깨진다는 점..
- 신청 대기 상태로 바뀌면 상담자의 이번주 상담 일정 조회시 state도 1로 바뀌게 됨


<br>

😰 남은 작업

- 상담사의 상담 승인
- 상담사의 일정 열기
- 상담사 목록 및 상담자 마이페이지 구성 완료되면 옮기기

<br>

### 2022-02-09

1. 상담사의 상담 승인 완료
#### 002.4. 상담 중 감정 분석

<br>

![image-20220209211407215](README.assets/image-20220209211407215.png)

> 감정 분석의 응답에 딜레이가 있음... ⚡



   => 상담 승인 시 상담자의 페이지에서는 예약완료/ 내담자가 보는 페이지에서는 마감으로 바뀌는 것까지 확인

2. 상담사의 상담 시간 등록 구현 완료
#### 002.5. 상담 중 기록 확인

<br>

![image-20220209211602768](README.assets/image-20220209211602768.png)

> 1. 기존 기록이 없을 때는 기록이 없다고 표현 처리 완료
> 1. 단... 메모 작성 중 기록 화면으로 넘어가면 메모에 작성 중인 내용이 사라짐 ⚡
>    1. 대신 기록 영역을 활성화할 때 메모를 자동으로 저장시켜주도록 해놨음
>    1. 한번 저장 하고 나서 새로 작성해서 저장하면 기존 메모를 덮어 쓰게 됨 ⚡



<br>

#### 002.6. 상담 중 스티커 화면

<br>

![image-20220209212250598](README.assets/image-20220209212250598.png)

>성능이 너무너무 좋지 않음... 진지하게 버리는 걸 고민해보는 게 어떤가 함.. ⚡



<br>

#### 002.7. 상담 종료

<br>

![image-20220209212355909](README.assets/image-20220209212355909.png)

> axios 연결하면 상담실은 진짜 끝..?





<br>

### 003. 리스너



🎉 스케줄 관련 코드는 모두 구현 완료

다만, 상담사 목록 만든 후 내담자의 상담사 일정 관련 코드들 옮겨야 함.



현재 파일에는 상담사의 마이페이지-일정관리에서 할 수 있는 코드들만 있는 상태!



🔴 논의 필요한 것

1. ~~상담 종료 처리를 어떻게 할 지~~

   (지금 코드 상으로는 직접 처리해주지 않으면....  그냥 넘어감)

   => 실제 상담 종료 시 별점과 후기 남긴 후 종료 처리 하기로 

   

2. 포인트 여부
   - 현재는 임의로 회원가입 시 포인트 1000씩 부여한 상태로 진행
   - 상담 신청 시 한 상담당 1000 포인트가 차감되어 결국 1회만 신청 가능한 상태
   - 사실 보여주는 데 크게 문제는 x 
   - 그치만 포인트를 어떻게 할 지 논의 필요

<br>

### 2022-02-10

1. 스케줄 코드 완료
   - 한가지 마음에 걸리는 게 있다면.. 왜 location.reload() 후에 css가 깨지는지..
   - 원래 안그랬는데 왜 갑자기 


✔ 상담사 마이페이지의 일정 관리

![상담사 일정관리](C:\Users\SSAFY\Desktop\S06P12A605\README.assets\상담사 일정관리.PNG)



✔ 내담자가 보는 상담사 프로필 페이지의 일정

![상담사 프로필 내 스케줄](C:\Users\SSAFY\Desktop\S06P12A605\README.assets\상담사 프로필 내 스케줄.PNG)



2. 사이드바에 리스너 클릭 시 상담사 목록 및 클릭 시 상담사 프로필 보여주는 것 까지 완료(단 사진 제외)
   - 아직 미완성인 것
     - 상담사 사진
     - 상담사 목록 페이지네이션(일단 페이지 0으로 고정해놓은 상태)
#### 003.1. 전체 리스너

<br>

![image-20220210101155247](README.assets/image-20220210101155247.png)
